Я сделал простого телеграм бота для Намады. В баше. Хочешь такого же? Тогда погнали!


![Screenshot_2024-03-04_19-33-47](https://github.com/vlad-zte/namada-simply-tg-bot-bash/assets/112316072/a9a6419c-6d6b-4af4-9ae4-5090031c7a71)


Первое. Нам нужен BotFather. 


Чтобы активировать сервис настройки чат-ботов, открываем Telegram, вбиваем в строке поиска @BotFather, выбираем бота и нажимаем «Запустить».
Чтобы создать Telegram-бот через BotFather, выбираем команду /newbot. BotFather попросит настроить название и имя для бота. 
Ограничений и особых требований для имени и названия нет. Однако имя должно быть строго на латинице с окончанием bot/Bot. 
Обратите внимание: имя бота должно быть уникальным. Если вы введёте наименование, которое уже есть, BotFather попросит вас выбрать другое имя.
При создании бота BotFather генерирует уникальный API токен — ключ к вашему чат-боту. Сохраняем его. Он нам понадобится в дальнейшем. И не распостраняем в паблик. Этот ключ приватный. 


Ок, бот у нас есть. Теперь создаем публичную группу в телеграм. Имя название опять таки любое. Но уникальное. Я создаю канал @vlad_zte_namada. Добавляем нашего бота в группу как пользователя. Но с правами администратора. Он должен иметь права добавлять сообщения.


Ок, создали группу. Теперь самое интересное.


Идем  в консоль на сервере. И выполняем там следующие команды:


BOT_TOKEN='****'


здесь пишем наш API бота, который нам дали при создании бота.


CHANNEL_ID="@vlad_zte_namada"

 
Здесь то имя канала в ТГ , который мы создали себе, и куда добавили бота как админа.


Получаем ID канала


curl -s https://api.telegram.org/bot${BOT_TOKEN}/getChat?chat_id=$CHANNEL_ID


Ответ будет вида


{"ok":true,"result":{"id":-1001*****,"title":"vlad-zte-namada","type":"channel","invite_link":"https://t.me/*****","has_visible_history":true,"accent_color_id":3}}


Нам отсюда нужен только id. 13 цифр. Я спрячу свой ID и API бота за звездочками, ну, на всякий случай, мало ли что, приватность , все же.. 


Все, теперь делаем в настройках канал приватным. И еще раз проверяем, что бот может писать в канал, той же командой, только переопределим ID канала


CHANNEL_ID="-1001*****" 


опять делаем curl. Должны получить такой же ответ, как и до этого.


curl -s https://api.telegram.org/bot${BOT_TOKEN}/getChat?chat_id=$CHANNEL_ID


Ок, 50% сделано.


Теперь создаем скрипт. У меня это send.sh . Копируем в него содержимое файла send.sh из этого репозитария. Не забываем переопределить внутри скрипта переменные с API бота. И ID канала телеграм.


Делаем файл выполняемым. 


chmod +x send.sh


Запускаем 


./send.sh


И если все сделали правильно, то получим сообщение в телеграм. Все, мы молодцы!
